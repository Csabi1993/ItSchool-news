{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\IT School\\\\Sedintele 36-38\\\\proiectul final facut la curs\\\\itschool-news-updated\\\\src\\\\pages\\\\NewsDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Layout from \"../components/Layout\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { useFetch } from \"../utils/hooks/useFetch\";\nimport { getNewsDetailsEndpoint } from \"../api/endpoints\";\nimport { getNewsDetails } from \"../api/adaptors\";\nimport Button from \"react-bootstrap/Button\";\nimport styles from \"./NewsDetails.module.css\";\nimport { getFormattedDate } from \"../utils/date\";\nimport { addToFavorites } from \"../store/Favorites/actions\";\nimport { FavoritesContext } from \"../store/Favorites/context\"; // Importam componenta Alert.\n\nimport Alert from \"react-bootstrap/Alert\"; // Importam hook-ul useLocalStorageState.\n\nimport { useLocalStorage } from \"../utils/hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewsDetails() {\n  _s();\n\n  const {\n    favoritesDispatch,\n    favoritesState\n  } = useContext(FavoritesContext);\n  const {\n    newsId\n  } = useParams();\n  const newsDetailsEndpoint = getNewsDetailsEndpoint(newsId);\n  const newsDetails = useFetch(newsDetailsEndpoint);\n  const adaptedNewsDetails = getNewsDetails(newsDetails); // Adaugam un state pentru afisarea alertei.\n\n  const [isAlertDisplayed, setIsAlertDisplayed] = useState(false); // Extragem functia de modificare a localStorage-ului. Nu avem nevoie de state-ul din localStorage, conventia este ca pentru variabile neutilizate sa punem denumirea _.\n  // Comentariul eslint-disable-next-line dezactiveaza eslint pentru urmatoarea linie (sa nu se planga ca nu utilizam variabila _).\n  // eslint-disable-next-line\n\n  const [_, setLocalStorageState] = useLocalStorage(\"favorites\", favoritesState); // Adaugarea in localStorage este un efect, atunci cand se modifica produsele favorite.\n  // Cum strim ca s-au modificat produsele favorite? Primim o noua valoare a lui favoritesState.\n  // setLocalStorageState este sugerat sa fie adaugat la dependente de o regula de lining.\n\n  useEffect(() => {\n    setLocalStorageState(favoritesState);\n  }, [favoritesState, setLocalStorageState]);\n  const {\n    title,\n    description,\n    image,\n    date,\n    author,\n    content,\n    thumbnail\n  } = adaptedNewsDetails;\n  const formattedDate = getFormattedDate(date);\n\n  function handleAddToFavorites(product) {\n    const actionResult = addToFavorites(product);\n    favoritesDispatch(actionResult); // Afisam alerta.\n\n    setIsAlertDisplayed(true); // Imediat ce afisam alerta, declansam un timer, care in 2 secunde va ascunde alerta.\n\n    setTimeout(() => {\n      setIsAlertDisplayed(false);\n    }, 2000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [isAlertDisplayed && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      id: styles.alert,\n      children: \"Succes! Po\\u021Bi vedea \\u0219tirea acces\\xE2nd sec\\u021Biunea Favorite.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: `${styles.newsDetails} my-5`,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          lg: 8,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"pt-3 mb-5\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"fw-bold\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: image\n            },\n            className: \"mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fw-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: formattedDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                handleAddToFavorites({\n                  id: newsId,\n                  thumbnail,\n                  title,\n                  description,\n                  hasCloseButton: true\n                });\n              },\n              children: \"Adaug\\u0103 la favorite\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: content\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewsDetails, \"ju8SarCVQ4l+Z44gs6UvsqFr5sY=\", false, function () {\n  return [useParams, useFetch, useLocalStorage];\n});\n\n_c = NewsDetails;\nexport default NewsDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsDetails\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/IT School/Sedintele 36-38/proiectul final facut la curs/itschool-news-updated/src/pages/NewsDetails.jsx"],"names":["useContext","useState","useEffect","useParams","Layout","Container","Row","Col","useFetch","getNewsDetailsEndpoint","getNewsDetails","Button","styles","getFormattedDate","addToFavorites","FavoritesContext","Alert","useLocalStorage","NewsDetails","favoritesDispatch","favoritesState","newsId","newsDetailsEndpoint","newsDetails","adaptedNewsDetails","isAlertDisplayed","setIsAlertDisplayed","_","setLocalStorageState","title","description","image","date","author","content","thumbnail","formattedDate","handleAddToFavorites","product","actionResult","setTimeout","alert","__html","id","hasCloseButton"],"mappings":"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","sourcesContent":["import { useContext, useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Layout from \"../components/Layout\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { useFetch } from \"../utils/hooks/useFetch\";\r\nimport { getNewsDetailsEndpoint } from \"../api/endpoints\";\r\nimport { getNewsDetails } from \"../api/adaptors\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport styles from \"./NewsDetails.module.css\";\r\nimport { getFormattedDate } from \"../utils/date\";\r\nimport { addToFavorites } from \"../store/Favorites/actions\";\r\nimport { FavoritesContext } from \"../store/Favorites/context\";\r\n// Importam componenta Alert.\r\nimport Alert from \"react-bootstrap/Alert\";\r\n// Importam hook-ul useLocalStorageState.\r\nimport { useLocalStorage } from \"../utils/hooks/useLocalStorage\";\r\n\r\nfunction NewsDetails() {\r\n  const { favoritesDispatch, favoritesState } = useContext(FavoritesContext);\r\n  const { newsId } = useParams();\r\n  const newsDetailsEndpoint = getNewsDetailsEndpoint(newsId);\r\n  const newsDetails = useFetch(newsDetailsEndpoint);\r\n  const adaptedNewsDetails = getNewsDetails(newsDetails);\r\n  // Adaugam un state pentru afisarea alertei.\r\n  const [isAlertDisplayed, setIsAlertDisplayed] = useState(false);\r\n  // Extragem functia de modificare a localStorage-ului. Nu avem nevoie de state-ul din localStorage, conventia este ca pentru variabile neutilizate sa punem denumirea _.\r\n  // Comentariul eslint-disable-next-line dezactiveaza eslint pentru urmatoarea linie (sa nu se planga ca nu utilizam variabila _).\r\n  // eslint-disable-next-line\r\n  const [_, setLocalStorageState] = useLocalStorage(\r\n    \"favorites\",\r\n    favoritesState\r\n  );\r\n  // Adaugarea in localStorage este un efect, atunci cand se modifica produsele favorite.\r\n  // Cum strim ca s-au modificat produsele favorite? Primim o noua valoare a lui favoritesState.\r\n  // setLocalStorageState este sugerat sa fie adaugat la dependente de o regula de lining.\r\n  useEffect(() => {\r\n    setLocalStorageState(favoritesState);\r\n  }, [favoritesState, setLocalStorageState]);\r\n\r\n  const { title, description, image, date, author, content, thumbnail } =\r\n    adaptedNewsDetails;\r\n  const formattedDate = getFormattedDate(date);\r\n\r\n  function handleAddToFavorites(product) {\r\n    const actionResult = addToFavorites(product);\r\n    favoritesDispatch(actionResult);\r\n    // Afisam alerta.\r\n    setIsAlertDisplayed(true);\r\n    // Imediat ce afisam alerta, declansam un timer, care in 2 secunde va ascunde alerta.\r\n    setTimeout(() => {\r\n      setIsAlertDisplayed(false);\r\n    }, 2000);\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      {/* Afisam conditionat alerta */}\r\n      {isAlertDisplayed && (\r\n        <Alert variant=\"success\" id={styles.alert}>\r\n          Succes! Poți vedea știrea accesând secțiunea Favorite.\r\n        </Alert>\r\n      )}\r\n      <Container className={`${styles.newsDetails} my-5`}>\r\n        <Row className=\"d-flex justify-content-center\">\r\n          <Col xs={12} lg={8}>\r\n            <h1 className=\"pt-3 mb-5\">{title}</h1>\r\n            <p className=\"fw-bold\">{description}</p>\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: image }}\r\n              className=\"mb-4\"\r\n            ></div>\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <div className=\"fw-bold\">\r\n                <p>{author}</p>\r\n                <p className=\"mb-0\">{formattedDate}</p>\r\n              </div>\r\n              <Button\r\n                onClick={() => {\r\n                  handleAddToFavorites({\r\n                    id: newsId,\r\n                    thumbnail,\r\n                    title,\r\n                    description,\r\n                    hasCloseButton: true,\r\n                  });\r\n                }}\r\n              >\r\n                Adaugă la favorite\r\n              </Button>\r\n            </div>\r\n            <div dangerouslySetInnerHTML={{ __html: content }}></div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default NewsDetails;\r\n"]},"metadata":{},"sourceType":"module"}