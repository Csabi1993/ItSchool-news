(this["webpackJsonpitschool-news"]=this["webpackJsonpitschool-news"]||[]).push([[0],{18:function(e,t,c){e.exports={header:"Header_header__fTj9-",nav:"Header_nav__w4qfn",menuIcon:"Header_menuIcon__2GNBv",dropdownMenu:"Header_dropdownMenu__1IO3h",menuIconContainer:"Header_menuIconContainer__P_qtF",displayMobileMenu:"Header_displayMobileMenu__3q0dO"}},32:function(e,t,c){e.exports={page404:"Page404_page404__30qY3",error404:"Page404_error404__2EVnr"}},34:function(e,t,c){e.exports={newsCard:"NewsCard_newsCard__88ILa"}},35:function(e,t,c){e.exports={pagination:"Pagination_pagination__1krBE",paginationActive:"Pagination_paginationActive__3dzYh"}},36:function(e,t,c){e.exports={newsDetails:"NewsDetails_newsDetails__3q5FU",alert:"NewsDetails_alert__2WUTF"}},42:function(e,t,c){e.exports={layout:"Layout_layout__2bxrl"}},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(17),i=c.n(s),r=c(6),l=c(7),o=c(8),j=c(32),d=c.n(j),b=c(10),h=c(0);var u=function(){return Object(h.jsx)("div",{className:"".concat(d.a.page404," bg-primary text-white d-flex flex-column justify-content-center align-items-center"),children:Object(h.jsxs)(b.a,{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(h.jsx)("p",{className:"h4 text-center",children:"Avem o \u0219tire nu tocmai grozav\u0103... pagina pe care ai \xeencercat s\u0103 o accesezi nu (mai) exist\u0103."}),Object(h.jsx)("strong",{className:"".concat(d.a.error404),children:"404 :("}),Object(h.jsxs)("p",{className:"h4 text-center",children:["Hai"," ",Object(h.jsx)(r.b,{to:"/",className:"text-secondary",children:"\xeenapoi pe site"})," ","s\u0103 vezi o nou\u0103 \u0219tire!"]})]})})},x=c(18),O=c.n(x);var m=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=O.a.dropdownMenu;return c&&(s+=" ".concat(O.a.displayMobileMenu)),Object(h.jsx)("header",{className:O.a.header,children:Object(h.jsx)("nav",{className:"".concat(O.a.nav," bg-primary w-100"),children:Object(h.jsxs)(b.a,{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsx)(r.b,{to:"/",className:"p-3",children:Object(h.jsx)("img",{src:"https://www.itschool.ro/img/logo-white.png",alt:"itschool logo"})}),Object(h.jsxs)("div",{className:O.a.menuIconContainer,children:[Object(h.jsxs)("span",{onClick:function(){n((function(e){return!e}))},className:"material-icons ".concat(O.a.menuIcon," text-light"),children:[" ","menu"," "]}),Object(h.jsxs)("ul",{className:s,children:[Object(h.jsx)("li",{className:c?"container":null,children:Object(h.jsx)(r.b,{to:"/category/technology",className:"p-3 text-uppercase text-light",children:"Tech"})}),Object(h.jsx)("li",{className:c?"container":null,children:Object(h.jsx)(r.b,{to:"/category/football",className:"p-3 text-uppercase text-light",children:"Fotbal"})}),Object(h.jsx)("li",{className:c?"container":null,children:Object(h.jsx)(r.b,{to:"/category/fashion",className:"p-3 text-uppercase text-light",children:"Fashion"})}),Object(h.jsx)("li",{className:c?"container":null,children:Object(h.jsx)(r.b,{to:"/category/business",className:"p-3 text-uppercase text-light",children:"Business"})}),Object(h.jsx)("li",{className:c?"container":null,children:Object(h.jsx)(r.b,{to:"/favorites",className:"p-3 text-uppercase text-light",children:"Favorite"})})]})]})]})})})};var p=function(){return Object(h.jsx)("footer",{className:"bg-dark",children:Object(h.jsx)(b.a,{children:Object(h.jsx)("p",{className:"text-light text-center m-0 py-3",children:"IT School Rom\xe2nia \xa9 2021. Toate drepturile rezervate."})})})},f=c(42),v=c.n(f);var g=function(e){return Object(h.jsxs)("div",{className:v.a.layout,children:[Object(h.jsx)(m,{}),Object(h.jsx)("main",{children:e.children}),Object(h.jsx)(p,{})]})};function N(e){var t=Object(a.useState)(null),c=Object(l.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){s(e)}))}),[e]),n}var y="a1bd9cb2-108b-45f2-b43d-3a51c0b36533";function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a="?api-key=".concat(y,"&section=").concat(e,"&show-fields=all&page-size=").concat(c,"&page=").concat(t);return"https://content.guardianapis.com/search".concat(a)}var w=c(26),I=c(27),S=c(19),F=c(24),T=c(34),C=c.n(T);var M=Object(a.createContext)();var D=function(e){var t=Object(a.useContext)(M).favoritesDispatch,c=e.newsId,n=e.imgSrc,s=e.title,i=e.description,l=e.hasCloseButton;return Object(h.jsxs)(S.a,{className:"".concat(C.a.newsCard," h-100 d-flex flex-column justify-content-between align-items-center"),children:[Object(h.jsxs)(r.b,{to:"/news/".concat(c),children:[Object(h.jsx)(S.a.Img,{variant:"top",src:n}),Object(h.jsxs)(S.a.Body,{children:[Object(h.jsx)(S.a.Title,{children:s}),Object(h.jsx)(S.a.Text,{children:i})]})]}),l&&Object(h.jsx)(F.a,{variant:"light",className:C.a.newsCardButton,onClick:function(){t({type:"REMOVE_FROM_FAVORITES",payload:c})},children:Object(h.jsx)("span",{className:"material-icons text-dark",children:"close"})})]})};var k=function(e){var t=e.newsList;return Object(h.jsx)(b.a,{children:Object(h.jsx)(w.a,{children:t.map((function(e){return Object(h.jsx)(I.a,{xs:12,md:6,lg:4,className:"mb-4",children:Object(h.jsx)(D,{newsId:e.id,imgSrc:e.thumbnail,title:e.title,description:e.description,hasCloseButton:e.hasCloseButton})},e.id)}))})})};function E(e){return e&&e.response?e.response.results.map((function(e){return{id:e.id,thumbnail:e.fields.thumbnail,title:e.fields.headline,description:e.fields.trailText}})):[]}var z=function(){var e=_("technology",1,6),t=_("football",1,6),c=_("fashion",1,6),a=_("business",1,6),n=N(e),s=N(t),i=N(c),l=N(a),o=E(n),j=E(s),d=E(i),u=E(l);return Object(h.jsxs)(g,{children:[Object(h.jsx)("section",{className:"tech my-5",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"Tech"}),Object(h.jsx)(k,{newsList:o}),Object(h.jsxs)("p",{children:["Vezi toate \u0219tirile legate de tehnologie \xeen sec\u021biunea"," ",Object(h.jsx)(r.b,{to:"/category/technology",className:"text-secondary",children:"Tech"}),"."]})]})}),Object(h.jsx)("section",{className:"football my-5",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"Fotbal"}),Object(h.jsx)(k,{newsList:j}),Object(h.jsxs)("p",{children:["Vezi toate \u0219tirile legate de tehnologie \xeen sec\u021biunea"," ",Object(h.jsx)(r.b,{to:"/category/football",className:"text-secondary",children:"Fotbal"}),"."]})]})}),Object(h.jsx)("section",{className:"fashion my-5",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"Fashion"}),Object(h.jsx)(k,{newsList:d}),Object(h.jsxs)("p",{children:["Vezi toate \u0219tirile legate de fashion \xeen sec\u021biunea"," ",Object(h.jsx)(r.b,{to:"/category/fashion",className:"text-secondary",children:"Fashion"}),"."]})]})}),Object(h.jsx)("section",{className:"business my-5",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"Business"}),Object(h.jsx)(k,{newsList:u}),Object(h.jsxs)("p",{children:["Vezi toate \u0219tirile legate de business \xeen sec\u021biunea"," ",Object(h.jsx)(r.b,{to:"/category/business",className:"text-secondary",children:"Business"}),"."]})]})}),Object(h.jsx)("section",{className:"favorites my-5",children:Object(h.jsxs)(b.a,{children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"Favorite"}),Object(h.jsx)("p",{children:"Vrei s\u0103 \xee\u021bi salvezi \u0219tirile favorite pentru a le reciti mai \xeencolo?"}),Object(h.jsx)("p",{children:"\xcen cadrul fiec\u0103rei \u0219tiri g\u0103se\u0219ti un buton prin care po\u021bi ad\u0103uga \u0219tirea la favorite."}),Object(h.jsxs)("p",{className:"pb-3",children:["Viziteaz\u0103 sec\u021biunea"," ",Object(h.jsx)(r.b,{to:"/favorites",className:"text-secondary",children:"Favorite"})," ","pentru a vedea \u0219tirile ad\u0103ugate."]})]})})]})};function B(e,t){var c=localStorage.getItem(e),n=JSON.parse(c)||t,s=Object(a.useState)(n),i=Object(l.a)(s,2),r=i[0],o=i[1];return[r,function(t){o(t),localStorage.setItem(e,JSON.stringify(t))}]}var V=function(){var e=Object(a.useContext)(M).favoritesState,t=e.products,c=B("favorites",e),n=Object(l.a)(c,2),s=(n[0],n[1]);return Object(a.useEffect)((function(){s(e)}),[e,s]),Object(h.jsx)(g,{children:Object(h.jsxs)(b.a,{className:"my-5",children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:"\u0218tirile tale favorite"}),0===t.length?Object(h.jsx)("p",{children:"Momentan nu ai nicio \u0219tire favorit\u0103."}):Object(h.jsx)(k,{newsList:t})]})})},A=c(37),L=c(35),R=c.n(L);var H=function(e){var t=e.active,c=e.baseUrl,a=Object(o.f)();t||(t=1);for(var n=[],s=function(e){n.push(Object(h.jsx)(A.a.Item,{active:e===Number(t),id:t?R.a.paginationActive:null,onClick:function(){a.push("".concat(c,"?page=").concat(e)),window.scrollTo({top:0,behavior:"smooth"})},children:e},e))},i=1;i<=5;i++)s(i);return Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)(A.a,{className:R.a.pagination,children:n})})};var P=function(){var e=Object(o.h)().categoryId,t=new URLSearchParams(Object(o.g)().search).get("page");t||(t=1);var c=E(N(_(e,t))),a="";switch(e){case"technology":a="Tech";break;case"football":a="Fotbal";break;case"fashion":a="Fashion";break;case"business":a="Business"}return Object(h.jsx)(g,{children:Object(h.jsxs)(b.a,{className:"my-5",children:[Object(h.jsx)("h1",{className:"mb-5 pt-3",children:a}),Object(h.jsx)(k,{newsList:c}),Object(h.jsx)(H,{active:t,baseUrl:"/category/".concat(e)})]})})},q=c(36),U=c.n(q);var J=c(44);var Y=function(){var e=Object(a.useContext)(M),t=e.favoritesDispatch,c=e.favoritesState,n=Object(o.h)().newsId,s=function(e){var t="?api-key=".concat(y,"&show-fields=all");return"https://content.guardianapis.com/".concat(e).concat(t)}(n),i=function(e){if(!e||!e.response)return{};var t=e.response.content;return{date:t.webPublicationDate,title:t.fields.headline,description:t.fields.trailText,image:t.fields.main,content:t.fields.body,author:t.fields.byline,thumbnail:t.fields.thumbnail}}(N(s)),r=Object(a.useState)(!1),j=Object(l.a)(r,2),d=j[0],u=j[1],x=B("favorites",c),O=Object(l.a)(x,2),m=(O[0],O[1]);Object(a.useEffect)((function(){m(c)}),[c,m]);var p=i.title,f=i.description,v=i.image,_=i.date,S=i.author,T=i.content,C=i.thumbnail,D=function(e){var t=new Date(e),c=t.getMonth();c+=1;var a=t.getDate(),n=t.getFullYear();return a<10&&(a="0"+a),c<10&&(c="0"+c),"".concat(a,"/").concat(c,"/").concat(n)}(_);return Object(h.jsxs)(g,{children:[d&&Object(h.jsx)(J.a,{variant:"success",id:U.a.alert,children:"Succes! Po\u021bi vedea \u0219tirea acces\xe2nd sec\u021biunea Favorite."}),Object(h.jsx)(b.a,{className:"".concat(U.a.newsDetails," my-5"),children:Object(h.jsx)(w.a,{className:"d-flex justify-content-center",children:Object(h.jsxs)(I.a,{xs:12,lg:8,children:[Object(h.jsx)("h1",{className:"pt-3 mb-5",children:p}),Object(h.jsx)("p",{className:"fw-bold",children:f}),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:v},className:"mb-4"}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(h.jsxs)("div",{className:"fw-bold",children:[Object(h.jsx)("p",{children:S}),Object(h.jsx)("p",{className:"mb-0",children:D})]}),Object(h.jsx)(F.a,{onClick:function(){!function(e){var c=function(e){return{type:"ADD_TO_FAVORITES",payload:e}}(e);t(c),u(!0),setTimeout((function(){u(!1)}),2e3)}({id:n,thumbnail:C,title:p,description:f,hasCloseButton:!0})},children:"Adaug\u0103 la favorite"})]}),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:T}})]})})})]})},G=c(45),W={products:[]};function K(e,t){switch(t.type){case"ADD_TO_FAVORITES":return e.products.find((function(e){return e.id===t.payload.id}))?e:{products:[t.payload].concat(Object(G.a)(e.products))};case"REMOVE_FROM_FAVORITES":return{products:e.products.filter((function(e){return e.id!==t.payload}))};default:return e}}var Q=function(){var e=B("favorites",W),t=Object(l.a)(e,1)[0],c=Object(a.useReducer)(K,t),n=Object(l.a)(c,2),s={favoritesState:n[0],favoritesDispatch:n[1]};return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(M.Provider,{value:s,children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(z,{})}),Object(h.jsx)(o.a,{path:"/favorites",children:Object(h.jsx)(V,{})}),Object(h.jsx)(o.a,{path:"/category/:categoryId",children:Object(h.jsx)(P,{})}),Object(h.jsx)(o.a,{path:"/news/:newsId*",children:Object(h.jsx)(Y,{})}),Object(h.jsx)(o.a,{path:"*",children:Object(h.jsx)(u,{})})]})})})};c(55),c(56);i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(r.a,{children:Object(h.jsx)(Q,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.1e1112ad.chunk.js.map